"0","data.latest.long <- data.latest %>% filter(country!='World') %>% gather(key=type, value=count, -country)"
"0",""
"0",""
"0","data.latest.long %<>% mutate(type=recode_factor(type, confirmed='Total Confirmed', deaths='Total Deaths', death.rate='Death Rate (%)', confirmed.new='New Confirmed (compared with one day before)', deaths.new='New Deaths (compared with one day before)', remaining.confirmed='Current Confirmed'))"
"0",""
"0","## bar chart"
"0","data.latest.long %>% ggplot(aes(x=country, y=count, fill=country, group=country)) +"
"0","  geom_bar(stat='identity') + "
"0","  geom_text(aes(label=count, y=count),size=2, vjust=0) +"
"0","  xlab('') + ylab('') +"
"0","  labs(title=paste0('Top 20 Countries with Most Confirmed Cases - ', max.date.txt))+ scale_fill_discrete(name='Country', labels=aes(count)) +"
"0","  theme(legend.title=element_blank(),"
"0","        legend.position='none',"
"0","        plot.title=element_text(size=11),axis.text=element_text(size=7), axis.text.x=element_text(angle=45, hjust=1)) + facet_wrap(~type, ncol=1, scales='free_y')"
