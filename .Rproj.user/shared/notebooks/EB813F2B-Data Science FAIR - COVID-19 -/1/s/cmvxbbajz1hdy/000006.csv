"0"," # Comparison across Countries"
"0","# convert from wide to long format, for drawing area plot"
"0","data.long <- data %>%"
"0","  select(c(country, date, confirmed, remaining.confirmed, recovered, deaths)) %>%"
"0","  gather(key = type, value = count, -c(country,date))"
"0","# set for factor levels to show them in a desirable order"
"0","data.long %<>% mutate(type =recode_factor(type, confirmed= 'Confirmed',"
"0","                                          remaining.confirmed = 'Remaining Confirmed',"
"0","                                          recovered= 'Recovered',"
"0","                                          deaths='Deaths'))"
"0","# plot cases by type"
"0","df <- data.long %>% filter(country %in% top.countries) %<>%"
"0","  mutate(country=country %>% factor(levels=c(top.countries)))"
"0","### CASES AROUND WORLD"
"0","p <- df%>% filter(country !='World') %>%"
"0","  ggplot(aes(x=date, y=count)) + xlab('') + ylab('Count') +"
"0","  theme(legend.title=element_blank(),"
"0","        legend.text = element_text(size=6),"
"0","        legend.key.size=unit(0.6, 'cm'),"
"0","        axis.text.x=element_text(angle = 45, hjust=1)) +"
"0","  facet_wrap(~type, ncol = 2, scale='free_y')"
"0","# area plot"
"0","plot1 <- p + geom_area(aes(fill=country)) +"
"0","  labs(title='Cases around the World')"
"0","# line plot and in log scale"
"0","linetypes <- rep(c('solid','dashed','dotted'), each=8)"
"0","colors <- rep(c('black','blue','red','green','orange', 'purple', 'yellow', 'grey'), 3)"
"0","plot2 <- p + geom_line(aes(color=country, linetype=country)) +"
"0","  scale_linetype_manual(values = linetypes) +"
"0","  scale_color_manual(values = colors) +"
"0","  labs(title = 'Cases around the world - Log Scale') +"
"0","  scale_y_continuous(trans = 'log10')"
"0","# shows two plots together"
"0","grid.arrange(plot1, plot2, ncol=1)"
