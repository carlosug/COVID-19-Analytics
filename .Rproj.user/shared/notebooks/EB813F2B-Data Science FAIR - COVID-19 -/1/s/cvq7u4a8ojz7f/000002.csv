"0","## Cases for the Whole World"
"0","# counts for worldwide"
"0","data.world <- data %>% group_by(date) %>%"
"0","  summarise(country='World',"
"0","            confirmed=sum(confirmed),"
"0","            deaths=sum(deaths),"
"0","            recovered=sum(recovered))"
"0","data %<>% rbind(data.world)"
"0","# remaining confirmed cases"
"0","data %<>% mutate(remaining.confirmed = confirmed - deaths - recovered)"
"0","# Daily Increases and Death Rates"
"0","# rate.upper = total deaths and recovered cases"
"0","# rate.lower = total deaths and confirmed cases"
"0","# expected death rate is to be between above rates"
"0","# rate.daily =daily deaths and recovered cases"
"0","## sort by country and date"
"0","data %<>% arrange(country,date)"
"0","# daily increases of deaths and recovered cases"
"0","# set NA to increase on day1"
"0","n <- nrow(data)"
"0","day1 <- min(data$date) # set NA day1"
"0","data %<>% mutate(confirmed.inc=ifelse(date ==day1,NA, confirmed - lag(confirmed, n=1)),"
"0","                 deaths.inc=ifelse(date ==day1,NA,deaths - lag(deaths, n=1)),"
"0","                 recovered.inc=ifelse(date ==day1,NA,recovered - lag(recovered, n=1)))"
"0","# death rate base on total deaths and recovered cases"
"0","data %<>% mutate(rate.upper = (100 *deaths / (deaths + recovered)) %>% round(1))"
"0","# lower bound: death rate based on total confirmed cases"
"0","data %<>% mutate(rate.lower = (100 * deaths / confirmed) %>% round(1))"
"0","# death rate based on number f death/recovered on every single day"
"0","data %<>% mutate(rate.daily = (100 * deaths.inc / (deaths.inc + recovered.inc)) %>% round(1))"
